<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="YouFloww is a simple and effective focus timer and productivity tool. Stay on task with Pomodoro sessions, track your progress, and earn coins.">
<meta name="keywords" content="focus timer, Pomodoro, productivity, to-do list, study tool, work timer, time management, concentration">
<title>YouFloww - Focus Timer & To-Do List</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<main>
<section>
  <h1 id="main-heading">Welcome to YouFloww ⏱️</h1>
  <p>Stay focused. Stay consistent.</p>
  <div id="status">Work Session</div>
  <div id="timer">25:00</div>
  <div class="timer-controls">
    <button id="startBtn">Start</button>
    <button id="pauseBtn" disabled>Pause</button>
    <button id="resetBtn">Reset</button>
    <button id="endSessionBtn">End Session</button>
    <button id="focusModeBtn">Focus Mode</button>
  </div>
  <div class="ambient-controls">
    <button id="noiseBtn">🎧 Play Noise</button>
    <div class="ambience-dropdown">
        <button id="ambienceBtn">✨ Ambience</button>
        <div id="ambienceOptions" class="ambience-options">
            <button id="snowBtn">❄️ Snow</button>
            <button id="rainBtn">🌧️ Rain</button>
            <button id="sakuraBtn">🌸 Sakura</button>
        </div>
    </div>
  </div>
</section>
<section>
  <div id="todo-container">
      <h2>🎯 To-Do List</h2>
      <div id="todo-input-container">
          <input type="text" id="todo-input" placeholder="Add a new task..." aria-label="Add a new task">
          <button id="add-todo-btn">Add</button>
      </div>
      <ul id="todo-list"></ul>
      <button class="clear-todos-btn">Clear All Tasks</button>
  </div>
</section>
<section>
    <div class="main-features-section">
        <div class="youtube-feature">
            <span>🎬 YouTube Background</span>
            <input type="text" id="youtube-input" placeholder="Paste YouTube URL here...">
            <button id="setYoutubeBtn">Set</button>
            <button id="removeYoutubeBtn">Remove</button>
        </div>
        <div class="custom-bg-feature">
            <span>🖼️ Custom Background</span>
            <input type="file" id="custom-image-input" accept="image/*" style="flex:1">
            <button id="removeCustomBgBtn">Remove</button>
        </div>
    </div>
</section>
</main>
<div id="coinContainer">
    <div>💰 Coins: <span id="coinCount">0</span></div>
    <button onclick="openStats()">View Stats</button>
</div>
<div id="statsModal" class="modal">
  <div id="statsContent" class="modal-content">
    <span class="close-btn" onclick="closeStats()">&times;</span>
    <h2>Your Progress 📈</h2>
    <p id="streak">🔥 Streak: 0 days</p>
    <p id="sessionsToday">📊 Sessions today: 0</p>
    <p id="weeklyFocus">⏳ Focused this week: 0h 0m</p>
    <div class="tabs">
        <div class="tab active" onclick="switchTab('stats')">📈 Stats</div>
        <div class="tab" onclick="switchTab('history')">📜 History</div>
        <div class="tab" onclick="switchTab('profile')">👤 Profile</div>
        <div class="tab" onclick="switchTab('store')">🛒 Store</div>
        <div class="tab" onclick="switchTab('settings')">⚙️ Settings</div>
    </div>
    <div id="statsContainer" class="tab-content active">
        <div id="barChartContainer" class="chart-container">
            <div class="chart-title">Daily Focus (hours)</div>
            <canvas id="barChart"></canvas>
        </div>
        <div id="pieChartContainer" class="chart-container">
            <div class="chart-title">Session Types</div>
            <canvas id="pieChart"></canvas>
        </div>
    </div>
    <div id="historyContainer" class="tab-content">
        <div class="chart-container">
            <div class="chart-title">Weekly History</div>
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>Week Starting</th>
                        <th>Total Focus</th>
                        <th>Sessions</th>
                        <th>Days Active</th>
                    </tr>
                </thead>
                <tbody id="historyTableBody"></tbody>
            </table>
        </div>
    </div>
    <div id="profileContainer" class="tab-content">
        <div class="chart-container">
            <div class="chart-title">Your Profile</div>
            <p>Name: <span id="profileName">Floww User</span></p>
            <p>Total Focus Time: <span id="totalFocusTime">0h 0m</span></p>
            <p>Total Sessions: <span id="totalSessions">0</span></p>
            <p>Total Coins Earned: <span id="totalCoinsEarned">0</span></p>
            <div class="stats-actions">
                <button onclick="changeProfileName()">Change Name</button>
            </div>
        </div>
    </div>
    <div id="storeContainer" class="tab-content">
        <div class="chart-container">
            <div class="chart-title">Customize Your Experience</div>
            <p>Select a theme or a live wallpaper for your session.</p>
            <div id="storeItems">
                <div class="store-item" data-type="image" data-path="https://images.unsplash.com/photo-1542831371-d648083a23de?q=80&w=2070&auto=format&fit=crop">
                    <span>🌆 Cosmic Background</span>
                    <button>Set</button>
                </div>
                <div class="store-item" data-type="youtube" data-id="4wJRkS-M-3s">
                    <span>🎬 Lofi Study Cafe</span>
                    <button>Set</button>
                </div>
                <div class="store-item" data-type="youtube" data-id="NJuSStkIZBg">
                    <span>🌧️ Cozy Rainy Night</span>
                    <button>Set</button>
                </div>
                <div class="store-item" data-type="youtube" data-id="Dx5qFachdxc">
                    <span>🚀 Space Journey</span>
                    <button>Set</button>
                </div>
            </div>
        </div>
    </div>
    <div id="settingsContainer" class="tab-content">
        <div class="chart-container">
            <div class="chart-title">Timer Settings</div>
            <p>Set your preferred Pomodoro durations (in minutes).</p>
            <div class="settings-grid">
                <label for="work-duration">Work Session:</label>
                <input type="number" id="work-duration" min="1">
                <label for="short-break-duration">Short Break:</label>
                <input type="number" id="short-break-duration" min="1">
                <label for="long-break-duration">Long Break:</label>
                <input type="number" id="long-break-duration" min="1">
            </div>
            <button id="saveSettingsBtn">Save Settings</button>
        </div>
    </div>
    <div class="stats-actions">
        <button id="exportDataBtn" onclick="exportData()">Export Data</button>
        <button id="clearDataBtn" onclick="clearAllData()">Clear All Data</button>
    </div>
  </div>
</div>
<div id="coinPopup">
  +<span id="coinEarned">0</span> Coins!
</div>
<audio id="coinSound">
  <source src="https://actions.google.com/sounds/v1/money/coin_drop.ogg" type="audio/ogg">
</audio>
<audio id="startSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" type="audio/ogg">
</audio>
<audio id="endSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" type="audio/ogg">
</audio>
<audio id="whiteNoise" loop>
  <source src="whitenoise.mp3" type="audio/mpeg">
</audio>
<aside>
<div id="cornerWidget">
  <div id="liveTime"></div>
  <div>Day Progress</div>
  <div class="progress-bar-container">
    <div id="dayProgressBar" class="progress-bar"></div>
  </div>
  <div>Month Progress</div>
  <div class="progress-bar-container">
    <div id="monthProgressBar" class="progress-bar"></div>
  </div>
  <div>Year Progress</div>
  <div class="progress-bar-container">
    <div id="yearProgressBar" class="progress-bar"></div>
  </div>
</div>
</aside>
<div id="ambient-container"></div>
<div id="video-background-container"></div>

<div id="focusModeUI">
    <div id="focusModeTimer"></div>
    <div id="focusModeProgressBarContainer">
        <div id="focusModeProgressBar"></div>
    </div>
    <div id="focusModeControls">
        <button id="focusModePlayPauseBtn" aria-label="Play/Pause">
            <span class="icon"></span>
        </button>
        <button id="focusModeExitBtn" aria-label="Exit Focus Mode">
            <span class="icon"></span>
        </button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
